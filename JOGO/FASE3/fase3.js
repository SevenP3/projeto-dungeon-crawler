if ('autoplay' in HTMLAudioElement.prototype) {
    var backgroundMusic = document.getElementById('backgroundMusic');
    var currentMusicIndex = localStorage.getItem('currentMusicIndex');
    var musicList = [
       'Mission-Impossible-Theme.mp3',
       'Mission-Impossible-Theme.mp3'
     ];
    
    if (currentMusicIndex !== null) {
      backgroundMusic.src = musicList[currentMusicIndex];
      backgroundMusic.play().catch(function() {
      });
    }
  
    document.addEventListener('click', function() {
      if (backgroundMusic.paused) {
        backgroundMusic.play();
      }
    });
  }

let tabela = document.getElementById("map3");
var modal = document.getElementById("myModal");


let numRow = 60;
let numCol = 60;

let containerTxt = document.getElementById("container-txt");
let spanLives = document.getElementById("lives");

//table creation and wall creation
for (let i = 0; i < numRow; i++) {
    let row = document.createElement("tr");
    for (let j = 0; j < numCol; j++) {
        let cell = document.createElement("td");
        row.appendChild(cell);
        if (
            i === 1 ||
            i === 2 ||
            i === 3 ||
            i === 4 ||
            i === 5 ||
            i === 6 ||
            i === 7 ||
            i === 8 ||
            i === 9 ||
            i === 10 ||
            i === 11 ||
            i === 12 ||
            i === 13 ||
            i === 14 ||
            i === 15 ||
            i === 16 ||
            i === 17 ||
            i === 18 ||
            i === 19 ||
            i === 20 ||
            i === 21 ||
            i === 22 ||
            i === 23 ||
            i === 24 ||
            i === 25 ||
            i === 26 ||
            i === 27 ||
            i === 28 ||
            i === 29 ||
            i === 30 ||
            i === 31 ||
            i === 32 ||
            i === 33 ||
            i === 34 ||
            i === 35 ||
            i === 36 ||
            i === 37 ||
            i === 38 ||
            i === 39 ||
            i === 40 ||
            i === 41 ||
            i === 42 ||
            i === 43 ||
            i === 44 ||

            i === 58 ||
            i === 57 ||
            i === 56 ||
            i === 55 ||
            i === 54 ||
            i === 53 ||
            i === 52 ||
            i === 51 ||
            i === 50 ||
            i === 49 ||
            i === 48 ||
            i === 47 ||
            i === 46 ||
            i === 45 ||
            i === 0 ||
            i === 20 ||
            i === 30 ||
            i === 40 ||
            i === 0 ||
            i === 24 ||
            i === 7 ||
            i === 0 ||
            i === 55 ||
            i === 45 ||
            i === 34 ||
            i === 37 ||
            i === 55 ||
            i === 50 ||
            i === 59 ||  //n達o pode mudar
            j === 0 ||
            j === 59 ||  //n達o pode mudar
            i === 0 ||  //n達o pode mudar
            j === 22 ||
            j === 35 ||
            j === 0 ||
            j === 7 ||
            j === 0 ||
            j === 0 ||
            j === 0 ||
            j === 12 ||
            j === 0 ||
            j === 45 ||
            j === 0      //n達o pode mudar
        ) {
            cell.textContent = "*";
        }
        if ((i === 25 && j === 28) || (i === 26 && j === 28) || (i === 27 && j === 28) || (i === 28 && j === 28) || (i === 29 && j === 28) //quadrado onde o personagem vai iniciar

            || (i === 1 && j === 13) || (i === 1 && j === 14) || (i === 1 && j === 15) || (i === 1 && j === 16) || (i === 1 && j === 17) || (i === 1 && j === 18) || (i === 1 && j === 19)
            || (i === 1 && j === 20) || (i === 1 && j === 21) || (i === 1 && j === 22) || (i === 1 && j === 23) || (i === 1 && j === 24) || (i === 1 && j === 25) || (i === 1 && j === 26) || (i === 1 && j === 27) || (i === 1 && j === 28)
            || (i === 2 && j === 28) || (i === 3 && j === 28) || (i === 4 && j === 28) || (i === 5 && j === 28) || (i === 6 && j === 28) || (i === 7 && j === 28) || (i === 8 && j === 28) || (i === 9 && j === 28) || (i === 10 && j === 28) || (i === 11 && j === 28) || (i === 12 && j === 28)

            //Sala 01 - sala com dois botoes**********************************************************************************************************************************
            || (i === 2 && j === 12) || (i === 2 && j === 13) || (i === 2 && j === 14) || (i === 2 && j === 15) || (i === 2 && j === 16) || (i === 2 && j === 17) || (i === 2 && j === 18) || (i === 2 && j === 19) || (i === 2 && j === 20) || (i === 2 && j === 21) || (i === 2 && j === 22) || (i === 2 && j === 23) || (i === 2 && j === 24) || (i === 2 && j === 25) || (i === 2 && j === 26) || (i === 2 && j === 27)
            || (i === 3 && j === 12) || (i === 3 && j === 13) || (i === 3 && j === 14) || (i === 3 && j === 15) || (i === 3 && j === 16) || (i === 3 && j === 17) || (i === 3 && j === 18) || (i === 3 && j === 19) || (i === 3 && j === 20) || (i === 3 && j === 21) || (i === 3 && j === 22) || (i === 3 && j === 23) || (i === 3 && j === 24) || (i === 3 && j === 25) || (i === 3 && j === 26) || (i === 3 && j === 27)
            || (i === 4 && j === 12) || (i === 4 && j === 13) || (i === 4 && j === 14) || (i === 4 && j === 15) || (i === 4 && j === 16) || (i === 4 && j === 17) || (i === 4 && j === 18) || (i === 4 && j === 19) || (i === 4 && j === 20) || (i === 4 && j === 21) || (i === 4 && j === 22) || (i === 4 && j === 23) || (i === 4 && j === 24) || (i === 4 && j === 25) || (i === 4 && j === 26) || (i === 4 && j === 27)
            || (i === 5 && j === 12) || (i === 5 && j === 13) || (i === 5 && j === 14) || (i === 5 && j === 15) || (i === 5 && j === 16) || (i === 5 && j === 17) || (i === 5 && j === 18) || (i === 5 && j === 19) || (i === 5 && j === 20) || (i === 5 && j === 21) || (i === 5 && j === 22) || (i === 5 && j === 23) || (i === 5 && j === 24) || (i === 5 && j === 25) || (i === 5 && j === 26) || (i === 5 && j === 27)
            || (i === 6 && j === 12) || (i === 6 && j === 13) || (i === 6 && j === 14) || (i === 6 && j === 15) || (i === 6 && j === 16) || (i === 6 && j === 17) || (i === 6 && j === 18) || (i === 6 && j === 19) || (i === 6 && j === 20) || (i === 6 && j === 21) || (i === 6 && j === 22) || (i === 6 && j === 23) || (i === 6 && j === 24) || (i === 6 && j === 25) || (i === 6 && j === 26) || (i === 6 && j === 27)
            || (i === 7 && j === 12) || (i === 7 && j === 13) || (i === 7 && j === 14) || (i === 7 && j === 15) || (i === 7 && j === 16) || (i === 7 && j === 17) || (i === 7 && j === 18) || (i === 7 && j === 19) || (i === 7 && j === 20) || (i === 7 && j === 21) || (i === 7 && j === 22) || (i === 7 && j === 23) || (i === 7 && j === 24) || (i === 7 && j === 25) || (i === 7 && j === 26) || (i === 7 && j === 27)
            || (i === 8 && j === 12) || (i === 8 && j === 13) || (i === 8 && j === 14) || (i === 8 && j === 15) || (i === 8 && j === 16) || (i === 8 && j === 17) || (i === 8 && j === 18) || (i === 8 && j === 19) || (i === 8 && j === 20) || (i === 8 && j === 21) || (i === 8 && j === 22) || (i === 8 && j === 23) || (i === 8 && j === 24) || (i === 8 && j === 25) || (i === 8 && j === 26) || (i === 8 && j === 27)
            || (i === 9 && j === 12) || (i === 9 && j === 13) || (i === 9 && j === 14) || (i === 9 && j === 15) || (i === 9 && j === 16) || (i === 9 && j === 17) || (i === 9 && j === 18) || (i === 9 && j === 19) || (i === 9 && j === 20) || (i === 9 && j === 21) || (i === 9 && j === 22) || (i === 9 && j === 23) || (i === 9 && j === 24) || (i === 9 && j === 25) || (i === 9 && j === 26) || (i === 9 && j === 27)
            || (i === 10 && j === 12) || (i === 10 && j === 13) || (i === 10 && j === 14) || (i === 10 && j === 15) || (i === 10 && j === 16) || (i === 10 && j === 17) || (i === 10 && j === 18) || (i === 10 && j === 19) || (i === 10 && j === 20) || (i === 10 && j === 21) || (i === 3 && j === 22) || (i === 10 && j === 23) || (i === 10 && j === 24) || (i === 10 && j === 25) || (i === 10 && j === 26) || (i === 10 && j === 27)
            || (i === 11 && j === 12) || (i === 11 && j === 13) || (i === 11 && j === 14) || (i === 11 && j === 15) || (i === 11 && j === 16) || (i === 11 && j === 17) || (i === 11 && j === 18) || (i === 11 && j === 19) || (i === 11 && j === 20) || (i === 11 && j === 21) || (i === 3 && j === 22) || (i === 11 && j === 23) || (i === 11 && j === 24) || (i === 11 && j === 25) || (i === 11 && j === 26) || (i === 11 && j === 27)
            || (i === 12 && j === 12) || (i === 12 && j === 13) || (i === 12 && j === 14) || (i === 12 && j === 15) || (i === 12 && j === 16) || (i === 12 && j === 17) || (i === 12 && j === 18) || (i === 12 && j === 19) || (i === 12 && j === 20) || (i === 12 && j === 21) || (i === 3 && j === 22) || (i === 12 && j === 23) || (i === 12 && j === 24) || (i === 12 && j === 25) || (i === 12 && j === 26) || (i === 12 && j === 27)
            || (i === 11 && j === 22) || (i === 12 && j === 22) || (i === 9 && j === 22) || (i === 10 && j === 22)
            //************************************************************************************************************************************************/

            //corredor****************************************************************************************************************************************
            || (i === 5 && j === 29) || (i === 5 && j === 30) || (i === 5 && j === 31) || (i === 5 && j === 32) || (i === 5 && j === 33) || (i === 5 && j === 34) || (i === 5 && j === 35) || (i === 5 && j === 36) || (i === 5 && j === 37) || (i === 5 && j === 38) || (i === 5 && j === 39)
            //*************************************************************************************************************************************************/




            // Sala 2 - essa sala fica ao lado da sala maior que tem dois botoes***********************************************************************************************************************
            || (i === 6 && j === 39) || (i === 7 && j === 39) || (i === 8 && j === 39) || (i === 9 && j === 39) || (i === 10 && j === 39) || (i === 11 && j === 39) || (i === 12 && j === 39)
            || (i === 4 && j === 39) || (i === 4 && j === 40) || (i === 4 && j === 41) || (i === 4 && j === 42) || (i === 4 && j === 43) || (i === 4 && j === 44) || (i === 4 && j === 45)
            || (i === 6 && j === 45) || (i === 7 && j === 45) || (i === 8 && j === 45) || (i === 9 && j === 45) || (i === 10 && j === 45) || (i === 11 && j === 45) || (i === 12 && j === 46)
            || (i === 5 && j === 40) || (i === 5 && j === 41) || (i === 5 && j === 42) || (i === 5 && j === 43) || (i === 5 && j === 44) || (i === 5 && j === 45)
            || (i === 6 && j === 40) || (i === 6 && j === 41) || (i === 6 && j === 42) || (i === 6 && j === 43) || (i === 6 && j === 44)
            || (i === 7 && j === 40) || (i === 7 && j === 41) || (i === 7 && j === 42) || (i === 7 && j === 43) || (i === 7 && j === 44)
            || (i === 8 && j === 40) || (i === 8 && j === 41) || (i === 8 && j === 42) || (i === 8 && j === 43) || (i === 8 && j === 44)
            || (i === 9 && j === 40) || (i === 9 && j === 41) || (i === 9 && j === 42) || (i === 9 && j === 43) || (i === 9 && j === 44)
            || (i === 10 && j === 40) || (i === 10 && j === 41) || (i === 10 && j === 42) || (i === 10 && j === 43) || (i === 10 && j === 44)
            || (i === 11 && j === 40) || (i === 11 && j === 41) || (i === 11 && j === 42) || (i === 11 && j === 43) || (i === 11 && j === 44)
            || (i === 12 && j === 40) || (i === 12 && j === 41) || (i === 12 && j === 42) || (i === 12 && j === 43) || (i === 12 && j === 44) || (i === 12 && j === 45)
            //********************************************************************************************************************************************/


            //todos os corredores*****************************************************************************************************************************************
            || (i === 14 && j === 17) || (i === 15 && j === 17) || (i === 16 && j === 17) || (i === 17 && j === 17) || (i === 18 && j === 17) || (i === 19 && j === 17) || (i === 20 && j === 17)
            || (i === 14 && j === 18) || (i === 15 && j === 18) || (i === 16 && j === 18) || (i === 17 && j === 18) || (i === 18 && j === 18) || (i === 19 && j === 18) || (i === 20 && j === 18)
            || (i === 14 && j === 19) || (i === 15 && j === 19) || (i === 16 && j === 19) || (i === 17 && j === 19) || (i === 18 && j === 19) || (i === 19 && j === 19) || (i === 20 && j === 19)
            || (i === 18 && j === 13) || (i === 18 && j === 13) || (i === 18 && j === 13)
            || (i === 18 && j === 14) || (i === 18 && j === 14) || (i === 18 && j === 14)
            || (i === 18 && j === 15) || (i === 18 && j === 15) || (i === 18 && j === 15)
            || (i === 18 && j === 16) || (i === 18 && j === 16) || (i === 18 && j === 16)
            || (i === 20 && j === 20) || (i === 20 && j === 21) || (i === 20 && j === 22) || (i === 20 && j === 23) || (i === 20 && j === 24) || (i === 20 && j === 25) || (i === 20 && j === 26)
            || (i === 20 && j === 27) || (i === 20 && j === 28) || (i === 20 && j === 29) || (i === 20 && j === 30) || (i === 20 && j === 31) || (i === 20 && j === 32) || (i === 20 && j === 33)
            || (i === 20 && j === 34) || (i === 20 && j === 35) || (i === 20 && j === 36) || (i === 20 && j === 37) || (i === 20 && j === 38) || (i === 20 && j === 39) || (i === 20 && j === 40)
            || (i === 20 && j === 41) || (i === 20 && j === 42) || (i === 20 && j === 43) || (i === 20 && j === 44) || (i === 20 && j === 45) || (i === 20 && j === 46) || (i === 20 && j === 47)
            || (i === 20 && j === 48) || (i === 20 && j === 49) || (i === 20 && j === 50) || (i === 20 && j === 51) || (i === 20 && j === 52) || (i === 20 && j === 53) || (i === 20 && j === 54)
            || (i === 21 && j === 28) || (i === 22 && j === 28) || (i === 23 && j === 28) || (i === 24 && j === 28) || (i === 26 && j === 29)
            || (i === 21 && j === 30) || (i === 22 && j === 30) || (i === 23 && j === 30) || (i === 24 && j === 30) || (i === 25 && j === 30) || (i === 26 && j === 30) || (i === 27 && j === 30) || (i === 28 && j === 30) || (i === 29 && j === 30)
            || (i === 12 && j === 47) || (i === 12 && j === 48) || (i === 12 && j === 49) || (i === 12 && j === 50) || (i === 12 && j === 51) || (i === 12 && j === 52) || (i === 12 && j === 53) || (i === 12 && j === 54) || (i === 12 && j === 55) || (i === 12 && j === 56) || (i === 12 && j === 57) || (i === 12 && j === 58)


            //corredores da sala principal - lado direito
            || (i === 55 && j === 21) || (i === 55 && j === 20) || (i === 55 && j === 19) || (i === 55 && j === 18) || (i === 55 && j === 17) || (i === 55 && j === 16) || (i === 55 && j === 15) || (i === 55 && j === 14)
            || (i === 55 && j === 13) || (i === 55 && j === 12) || (i === 55 && j === 11) || (i === 55 && j === 10) || (i === 55 && j === 9) || (i === 55 && j === 8) || (i === 55 && j === 7) || (i === 55 && j === 6)
            || (i === 55 && j === 6) || (i === 54 && j === 6) || (i === 53 && j === 6) || (i === 52 && j === 6) || (i === 51 && j === 6)
            || (i === 55 && j === 6) || (i === 55 && j === 7) || (i === 55 && j === 8) || (i === 55 && j === 9) || (i === 55 && j === 10)

            //corredores da sala principal - lado esquerdo
            || (i === 55 && j === 37) || (i === 55 && j === 38) || (i === 55 && j === 39) || (i === 55 && j === 40) || (i === 55 && j === 41) || (i === 55 && j === 42) || (i === 55 && j === 43) || (i === 55 && j === 44)
            || (i === 55 && j === 45) || (i === 55 && j === 46) || (i === 55 && j === 45) || (i === 55 && j === 46) || (i === 55 && j === 47) || (i === 55 && j === 48) || (i === 55 && j === 48) || (i === 55 && j === 49) || (i === 55 && j === 50) || (i === 55 && j === 51)
            || (i === 54 && j === 51) || (i === 53 && j === 51) || (i === 52 && j === 51) || (i === 51 && j === 51) || (i === 50 && j === 51)
            || (i === 50 && j === 50) || (i === 50 && j === 49) || (i === 50 && j === 48) || (i === 50 && j === 47) || (i === 50 && j === 46)

            //corredores da sala principal - meio
            || (i === 54 && j === 29) || (i === 53 && j === 29) || (i === 52 && j === 29) || (i === 51 && j === 29) || (i === 50 && j === 29) || (i === 49 && j === 29) || (i === 48 && j === 29) || (i === 49 && j === 29) || (i === 48 && j === 29) || (i === 47 && j === 29)
            || (i === 46 && j === 29) || (i === 45 && j === 29) || (i === 44 && j === 29) || (i === 43 && j === 29) || (i === 42 && j === 29) || (i === 41 && j === 29) || (i === 40 && j === 29) || (i === 39 && j === 29) || (i === 38 && j === 29) || (i === 37 && j === 29)
            || (i === 36 && j === 29) || (i === 35 && j === 29) || (i === 34 && j === 29) || (i === 33 && j === 29) || (i === 32 && j === 29) || (i === 31 && j === 29) || (i === 30 && j === 29) || (i === 29 && j === 29) || (i === 28 && j === 29) || (i === 27 && j === 29)
            || (i === 26 && j === 28) || (i === 25 && j === 29) || (i === 24 && j === 29) || (i === 23 && j === 29) || (i === 22 && j === 29) || (i === 21 && j === 29)

            //sala 03 - essa fica de baixo da sala maior que tem dois botoes*******************************************************************************************************************************
            || (i === 16 && j === 12) || (i === 17 && j === 12) || (i === 18 && j === 12) || (i === 19 && j === 12) || (i === 20 && j === 12)
            || (i === 16 && j === 11) || (i === 17 && j === 11) || (i === 18 && j === 11) || (i === 19 && j === 11) || (i === 20 && j === 11)
            || (i === 16 && j === 10) || (i === 17 && j === 10) || (i === 18 && j === 10) || (i === 19 && j === 10) || (i === 20 && j === 10)
            || (i === 16 && j === 9) || (i === 17 && j === 9) || (i === 18 && j === 9) || (i === 19 && j === 9) || (i === 20 && j === 9)
            || (i === 16 && j === 8) || (i === 17 && j === 8) || (i === 18 && j === 8) || (i === 19 && j === 8) || (i === 20 && j === 8)
            || (i === 16 && j === 7) || (i === 17 && j === 7) || (i === 18 && j === 7) || (i === 19 && j === 7) || (i === 20 && j === 7)
            || (i === 17 && j === 6) || (i === 18 && j === 6) || (i === 19 && j === 6)
            || (i === 17 && j === 5) || (i === 18 && j === 5) || (i === 19 && j === 5)
            || (i === 17 && j === 4) || (i === 18 && j === 4) || (i === 19 && j === 4)
            || (i === 17 && j === 3) || (i === 18 && j === 3) || (i === 19 && j === 3)
            || (i === 17 && j === 2) || (i === 18 && j === 2) || (i === 19 && j === 2)
            //****************************************************************************************************************************************/

            //Sala 04 - primeiro sala das 4 em paralelo********************************************************************************************************************************
            || (i === 18 && j === 23) || (i === 18 && j === 24) || (i === 18 && j === 25) || (i === 18 && j === 26) || (i === 18 && j === 27)
            || (i === 17 && j === 23) || (i === 17 && j === 24) || (i === 17 && j === 25) || (i === 17 && j === 26) || (i === 17 && j === 27)
            || (i === 16 && j === 23) || (i === 16 && j === 24) || (i === 16 && j === 25) || (i === 16 && j === 26) || (i === 16 && j === 27)
            || (i === 15 && j === 23) || (i === 15 && j === 24) || (i === 15 && j === 25) || (i === 15 && j === 26) || (i === 15 && j === 27)
            //*************************************************************************************************************************************/

            //Sala 05 - segunda sala das 4 em paralelo********************************************************************************************************************************
            || (i === 18 && j === 32) || (i === 18 && j === 33) || (i === 18 && j === 34) || (i === 18 && j === 35) || (i === 18 && j === 36)
            || (i === 17 && j === 32) || (i === 17 && j === 33) || (i === 17 && j === 34) || (i === 17 && j === 35) || (i === 17 && j === 36)
            || (i === 16 && j === 32) || (i === 16 && j === 33) || (i === 16 && j === 34) || (i === 16 && j === 35) || (i === 16 && j === 36)
            || (i === 15 && j === 32) || (i === 15 && j === 33) || (i === 15 && j === 34) || (i === 15 && j === 35) || (i === 15 && j === 36)
            //*************************************************************************************************************************************/

            //Sala 06 - terceira sala das 4 em paralelo********************************************************************************************************************************
            || (i === 18 && j === 41) || (i === 18 && j === 42) || (i === 18 && j === 43) || (i === 18 && j === 44) || (i === 18 && j === 45)
            || (i === 17 && j === 41) || (i === 17 && j === 42) || (i === 17 && j === 43) || (i === 17 && j === 44) || (i === 17 && j === 45)
            || (i === 16 && j === 41) || (i === 16 && j === 42) || (i === 16 && j === 43) || (i === 16 && j === 44) || (i === 16 && j === 45)
            || (i === 15 && j === 41) || (i === 15 && j === 42) || (i === 15 && j === 43) || (i === 15 && j === 44) || (i === 15 && j === 45)
            //*************************************************************************************************************************************/

            //Sala 07 - quarta sala das 4 em paralelo********************************************************************************************************************************
            || (i === 18 && j === 49) || (i === 18 && j === 50) || (i === 18 && j === 51) || (i === 18 && j === 52) || (i === 18 && j === 53)
            || (i === 17 && j === 49) || (i === 17 && j === 50) || (i === 17 && j === 51) || (i === 17 && j === 52) || (i === 17 && j === 53)
            || (i === 16 && j === 49) || (i === 16 && j === 50) || (i === 16 && j === 51) || (i === 16 && j === 52) || (i === 16 && j === 53)
            || (i === 15 && j === 49) || (i === 15 && j === 50) || (i === 15 && j === 51) || (i === 15 && j === 52) || (i === 15 && j === 53)
            //*************************************************************************************************************************************/


            //sala inicial***********************************************************************************************************************
            || (i === 58 && j === 20) || (i === 58 && j === 21) || (i === 58 && j === 22) || (i === 58 && j === 23) || (i === 58 && j === 24) || (i === 58 && j === 25) || (i === 58 && j === 26) || (i === 58 && j === 27) || (i === 58 && j === 28) || (i === 58 && j === 29) || (i === 58 && j === 30) || (i === 58 && j === 31) || (i === 58 && j === 32) || (i === 58 && j === 33) || (i === 58 && j === 34) || (i === 58 && j === 35) || (i === 58 && j === 36) || (i === 58 && j === 37) || (i === 58 && j === 38)
            || (i === 57 && j === 21) || (i === 57 && j === 22) || (i === 57 && j === 23) || (i === 57 && j === 24) || (i === 57 && j === 25) || (i === 57 && j === 26) || (i === 57 && j === 27) || (i === 57 && j === 28) || (i === 57 && j === 29) || (i === 57 && j === 30) || (i === 57 && j === 31) || (i === 57 && j === 32) || (i === 57 && j === 33) || (i === 57 && j === 34) || (i === 57 && j === 35) || (i === 57 && j === 36) || (i === 57 && j === 37)
            || (i === 56 && j === 22) || (i === 56 && j === 23) || (i === 56 && j === 24) || (i === 56 && j === 25) || (i === 56 && j === 26) || (i === 56 && j === 27) || (i === 56 && j === 28) || (i === 56 && j === 29) || (i === 56 && j === 30) || (i === 56 && j === 31) || (i === 56 && j === 32) || (i === 56 && j === 33) || (i === 56 && j === 34) || (i === 56 && j === 35) || (i === 56 && j === 36) || (i === 57 && j === 37)
            || (i === 55 && j === 22) || (i === 55 && j === 23) || (i === 55 && j === 24) || (i === 55 && j === 25) || (i === 55 && j === 26) || (i === 55 && j === 27) || (i === 55 && j === 28) || (i === 55 && j === 29) || (i === 55 && j === 30) || (i === 55 && j === 31) || (i === 55 && j === 32) || (i === 55 && j === 33) || (i === 55 && j === 34) || (i === 55 && j === 35) || (i === 55 && j === 36)


            //Sala 08 - primeira sala do lado esquerdo - de cima para baixo********************************************************************************************************************************
            || (i === 27 && j === 5) || (i === 27 && j === 6) || (i === 27 && j === 7) || (i === 27 && j === 8) || (i === 27 && j === 9) || (i === 27 && j === 10) || (i === 27 && j === 11) || (i === 27 && j === 12)
            || (i === 28 && j === 5) || (i === 28 && j === 6) || (i === 28 && j === 7) || (i === 28 && j === 8) || (i === 28 && j === 9) || (i === 28 && j === 10) || (i === 28 && j === 11) || (i === 28 && j === 12)
            || (i === 29 && j === 5) || (i === 29 && j === 6) || (i === 29 && j === 7) || (i === 29 && j === 8) || (i === 29 && j === 9) || (i === 29 && j === 10) || (i === 29 && j === 11) || (i === 29 && j === 12)
            || (i === 30 && j === 5) || (i === 30 && j === 6) || (i === 30 && j === 7) || (i === 30 && j === 8) || (i === 30 && j === 9) || (i === 30 && j === 10) || (i === 30 && j === 11) || (i === 30 && j === 12)
            || (i === 31 && j === 5) || (i === 31 && j === 6) || (i === 31 && j === 7) || (i === 31 && j === 8) || (i === 31 && j === 9) || (i === 31 && j === 10) || (i === 31 && j === 11) || (i === 31 && j === 12)
            || (i === 32 && j === 5) || (i === 32 && j === 6) || (i === 32 && j === 7) || (i === 32 && j === 8) || (i === 32 && j === 9) || (i === 32 && j === 10) || (i === 32 && j === 11) || (i === 32 && j === 12)
            //*************************************************************************************************************************************/



            //Sala 09 - segunda sala do lado esquerdo - de cima para baixo********************************************************************************************************************************
            || (i === 35 && j === 15) || (i === 35 && j === 16) || (i === 35 && j === 17) || (i === 35 && j === 18) || (i === 35 && j === 19) || (i === 35 && j === 20) || (i === 35 && j === 21) || (i === 35 && j === 22)
            || (i === 36 && j === 15) || (i === 36 && j === 16) || (i === 36 && j === 17) || (i === 36 && j === 18) || (i === 36 && j === 19) || (i === 36 && j === 20) || (i === 36 && j === 21) || (i === 36 && j === 22)
            || (i === 37 && j === 15) || (i === 37 && j === 16) || (i === 37 && j === 17) || (i === 37 && j === 18) || (i === 37 && j === 19) || (i === 37 && j === 20) || (i === 37 && j === 21) || (i === 37 && j === 22)
            || (i === 38 && j === 15) || (i === 38 && j === 16) || (i === 38 && j === 17) || (i === 38 && j === 18) || (i === 38 && j === 19) || (i === 38 && j === 20) || (i === 38 && j === 21) || (i === 38 && j === 22)
            || (i === 39 && j === 15) || (i === 39 && j === 16) || (i === 39 && j === 17) || (i === 39 && j === 18) || (i === 39 && j === 19) || (i === 39 && j === 20) || (i === 39 && j === 21) || (i === 39 && j === 22)
            || (i === 40 && j === 15) || (i === 40 && j === 16) || (i === 40 && j === 17) || (i === 40 && j === 18) || (i === 40 && j === 19) || (i === 40 && j === 20) || (i === 40 && j === 21) || (i === 40 && j === 22)
            //*************************************************************************************************************************************/


            //Sala 10 - primeira sala do lado direito - de cima para baixo********************************************************************************************************************************
            || (i === 27 && j === 40) || (i === 27 && j === 41) || (i === 27 && j === 42) || (i === 27 && j === 43) || (i === 27 && j === 44) || (i === 27 && j === 45) || (i === 27 && j === 46) || (i === 27 && j === 47)
            || (i === 28 && j === 40) || (i === 28 && j === 41) || (i === 28 && j === 42) || (i === 28 && j === 43) || (i === 28 && j === 44) || (i === 28 && j === 45) || (i === 28 && j === 46) || (i === 28 && j === 47)
            || (i === 29 && j === 40) || (i === 29 && j === 41) || (i === 29 && j === 42) || (i === 29 && j === 43) || (i === 29 && j === 44) || (i === 29 && j === 45) || (i === 29 && j === 46) || (i === 29 && j === 47)
            || (i === 30 && j === 40) || (i === 30 && j === 41) || (i === 30 && j === 42) || (i === 30 && j === 43) || (i === 30 && j === 44) || (i === 30 && j === 45) || (i === 30 && j === 46) || (i === 30 && j === 47)
            || (i === 31 && j === 40) || (i === 31 && j === 41) || (i === 31 && j === 42) || (i === 31 && j === 43) || (i === 31 && j === 44) || (i === 31 && j === 45) || (i === 31 && j === 46) || (i === 31 && j === 47)
            || (i === 32 && j === 40) || (i === 32 && j === 41) || (i === 32 && j === 42) || (i === 32 && j === 43) || (i === 32 && j === 44) || (i === 32 && j === 45) || (i === 32 && j === 46) || (i === 32 && j === 47)
            || (i === 26 && j === 43) || (i === 25 && j === 43) || (i === 24 && j === 43) || (i === 23 && j === 43) || (i === 22 && j === 43)

            //*************************************************************************************************************************************/

            //Sala 11 - segunda sala do lado direito - de cima para baixo********************************************************************************************************************************
            || (i === 36 && j === 51) || (i === 36 && j === 52) || (i === 36 && j === 53) || (i === 36 && j === 54) || (i === 36 && j === 55) || (i === 36 && j === 56) || (i === 36 && j === 57) || (i === 36 && j === 58)
            || (i === 37 && j === 51) || (i === 37 && j === 52) || (i === 37 && j === 53) || (i === 37 && j === 54) || (i === 37 && j === 55) || (i === 37 && j === 56) || (i === 37 && j === 57) || (i === 37 && j === 58)
            || (i === 38 && j === 51) || (i === 38 && j === 52) || (i === 38 && j === 53) || (i === 38 && j === 54) || (i === 38 && j === 55) || (i === 38 && j === 56) || (i === 38 && j === 57) || (i === 38 && j === 58)
            || (i === 39 && j === 51) || (i === 39 && j === 52) || (i === 39 && j === 53) || (i === 39 && j === 54) || (i === 39 && j === 55) || (i === 39 && j === 56) || (i === 39 && j === 57) || (i === 39 && j === 58)
            || (i === 40 && j === 51) || (i === 40 && j === 52) || (i === 40 && j === 53) || (i === 40 && j === 54) || (i === 40 && j === 55) || (i === 40 && j === 56) || (i === 40 && j === 57) || (i === 40 && j === 58)
            || (i === 41 && j === 51) || (i === 41 && j === 52) || (i === 41 && j === 53) || (i === 41 && j === 54) || (i === 41 && j === 55) || (i === 41 && j === 56) || (i === 41 && j === 57) || (i === 41 && j === 58)
            //*************************************************************************************************************************************/

            //Sala 12 - sala que ta ligada pelo correda da sala principal lado direiro*********************************************************
            || (i === 45 && j === 46) || (i === 46 && j === 46) || (i === 47 && j === 46) || (i === 48 && j === 46) || (i === 49 && j === 46) || (i === 50 && j === 46)
            || (i === 45 && j === 45) || (i === 45 && j === 44) || (i === 45 && j === 43) || (i === 45 && j === 42) || (i === 45 && j === 41) || (i === 45 && j === 40) || (i === 45 && j === 39) || (i === 45 && j === 38)
            || (i === 46 && j === 45) || (i === 46 && j === 44) || (i === 46 && j === 43) || (i === 46 && j === 42) || (i === 46 && j === 41) || (i === 46 && j === 40) || (i === 46 && j === 39) || (i === 46 && j === 38)
            || (i === 47 && j === 45) || (i === 47 && j === 44) || (i === 47 && j === 43) || (i === 47 && j === 42) || (i === 47 && j === 41) || (i === 47 && j === 40) || (i === 47 && j === 39) || (i === 47 && j === 38)
            || (i === 48 && j === 45) || (i === 48 && j === 44) || (i === 48 && j === 43) || (i === 48 && j === 42) || (i === 48 && j === 41) || (i === 48 && j === 40) || (i === 48 && j === 39) || (i === 48 && j === 38)
            || (i === 49 && j === 45) || (i === 49 && j === 44) || (i === 49 && j === 43) || (i === 49 && j === 42) || (i === 49 && j === 41) || (i === 49 && j === 40) || (i === 49 && j === 39) || (i === 49 && j === 38)
            || (i === 50 && j === 45) || (i === 50 && j === 44) || (i === 50 && j === 43) || (i === 50 && j === 42) || (i === 50 && j === 41) || (i === 50 && j === 40) || (i === 50 && j === 39) || (i === 50 && j === 38)

            //Sala 13 - sala que ta ligada pelo correda da sala principal lado esquerdo********************************************************************************************************************************
            || (i === 45 && j === 15) || (i === 45 && j === 16) || (i === 45 && j === 17) || (i === 45 && j === 18) || (i === 45 && j === 19) || (i === 45 && j === 14) || (i === 45 && j === 13) || (i === 45 && j === 12)
            || (i === 46 && j === 15) || (i === 46 && j === 16) || (i === 46 && j === 17) || (i === 46 && j === 18) || (i === 46 && j === 19) || (i === 46 && j === 14) || (i === 46 && j === 13) || (i === 46 && j === 12)
            || (i === 47 && j === 15) || (i === 47 && j === 16) || (i === 47 && j === 17) || (i === 47 && j === 18) || (i === 47 && j === 19) || (i === 47 && j === 14) || (i === 47 && j === 13) || (i === 47 && j === 12)
            || (i === 48 && j === 15) || (i === 48 && j === 16) || (i === 48 && j === 17) || (i === 48 && j === 18) || (i === 48 && j === 19) || (i === 48 && j === 14) || (i === 48 && j === 13) || (i === 48 && j === 12)
            || (i === 49 && j === 15) || (i === 49 && j === 16) || (i === 49 && j === 17) || (i === 49 && j === 18) || (i === 49 && j === 19) || (i === 49 && j === 14) || (i === 49 && j === 13) || (i === 49 && j === 12)
            || (i === 50 && j === 15) || (i === 50 && j === 16) || (i === 50 && j === 17) || (i === 50 && j === 18) || (i === 50 && j === 19) || (i === 50 && j === 14) || (i === 50 && j === 13) || (i === 50 && j === 12)
            || (i === 50 && j === 13) || (i === 50 && j === 12) || (i === 50 && j === 11) || (i === 50 && j === 10) || (i === 50 && j === 19) || (i === 50 && j === 9) || (i === 50 && j === 8) || (i === 50 && j === 9) || (i === 50 && j === 7) || (i === 50 && j === 6)
            //*************************************************************************************************************************************/

        ) {
            cell.textContent = "";
        }
    }
    tabela.appendChild(row);
}

let playerRow = 57;
let playerCol = 29;
let playerCell = tabela.rows[playerRow].cells[playerCol];
playerCell.innerHTML = "&";
playerCell.setAttribute("id", "player");

let playerRowInicial = playerRow;
let playerColInicial = playerCol;

//Adding doors to map ok
let doorRow = 50;
let doorCol = 47;
let doorCell = tabela.rows[doorRow].cells[doorCol];
doorCell.innerHTML = "D";
doorCell.setAttribute("id", "door");

let door2Row = 30;
let door2Col = 29;
let door2Cell = tabela.rows[door2Row].cells[door2Col];
door2Cell.innerHTML = "D";
door2Cell.setAttribute("id", "door");

let door3Row = 21;
let door3Col = 43;
let door3Cell = tabela.rows[door3Row].cells[door3Col];
door3Cell.innerHTML = "D";
door3Cell.setAttribute("id", "door");

let door4Row = 18;
let door4Col = 16;
let door4Cell = tabela.rows[door4Row].cells[door4Col];
door4Cell.innerHTML = "D";
door4Cell.setAttribute("id", "door");

let door5Row = 13;
let door5Col = 18;
let door5Cell = tabela.rows[door5Row].cells[door5Col];
door5Cell.innerHTML = "D";
door5Cell.setAttribute("id", "door");

let door6Row = 5;
let door6Col = 29;
let door6Cell = tabela.rows[door6Row].cells[door6Col];
door6Cell.innerHTML = "D";
door6Cell.setAttribute("id", "door");

let doorFinalRow = 12;
let doorFinalCol = 59;
let doorFinalCell = tabela.rows[doorFinalRow].cells[doorFinalCol];
doorFinalCell.innerHTML = "D";
doorFinalCell.setAttribute("id", "door");
//************************************************************ */


let buttonRow = 2;
let buttonCol = 17;
let buttonCell = tabela.rows[buttonRow].cells[buttonCol];
buttonCell.innerHTML = "O";
buttonCell.setAttribute("id", "button");

let button2Row = 2;
let button2Col = 25;
let button2Cell = tabela.rows[button2Row].cells[button2Col];
button2Cell.innerHTML = "O";
button2Cell.setAttribute("id", "button");

let button3Row = 17;
let button3Col = 43;
let button3Cell = tabela.rows[button3Row].cells[button3Col];
button3Cell.innerHTML = "O";
button3Cell.setAttribute("id", "button");

let button4Row = 17;
let button4Col = 25;
let button4Cell = tabela.rows[button4Row].cells[button4Col];
button4Cell.innerHTML = "O";
button4Cell.setAttribute("id", "button");

let button5Row = 38;
let button5Col = 55;
let button5Cell = tabela.rows[button5Row].cells[button5Col];
button5Cell.innerHTML = "O";
button5Cell.setAttribute("id", "button");

let button6Row = 47;
let button6Col = 42;
let button6Cell = tabela.rows[button6Row].cells[button6Col];
button6Cell.innerHTML = "O";
button6Cell.setAttribute("id", "button");

//localiza巽達o das chaves 
let keyRow = 46;
let keyCol = 15;
let keyCell = tabela.rows[keyRow].cells[keyCol];
keyCell.innerHTML = "@";
keyCell.setAttribute("id", "key");

let key2Row = 29;
let key2Col = 9;
let key2Cell = tabela.rows[key2Row].cells[key2Col];
key2Cell.innerHTML = "@";
key2Cell.setAttribute("id", "key");

let key3Row = 17;
let key3Col = 52;
let key3Cell = tabela.rows[key3Row].cells[key3Col];
key3Cell.innerHTML = "@";
key3Cell.setAttribute("id", "key");

let key4Row = 30;
let key4Col = 43;
let key4Cell = tabela.rows[key4Row].cells[key4Col];
key4Cell.innerHTML = "@";
key4Cell.setAttribute("id", "key");

let key5Row = 18;
let key5Col = 3;
let key5Cell = tabela.rows[key5Row].cells[key5Col];
key5Cell.innerHTML = "@";
key5Cell.setAttribute("id", "key");

let key6Row = 13;
let key6Col = 25;
let key6Cell = tabela.rows[key6Row].cells[key6Col];
key6Cell.innerHTML = "@";
key6Cell.setAttribute("id", "key");
key6Cell.style.display = "none"

let keyFinalRow = 10;
let keyFinalCol = 42;
let keyFinalCell = tabela.rows[keyFinalRow].cells[keyFinalCol];
keyFinalCell.innerHTML = "@";
keyFinalCell.setAttribute("id", "key");

//localiza巽達o dos portais ok
let portalRow = 45;
let portalCol = 38;
let portalCell = tabela.rows[portalRow].cells[portalCol];
portalCell.innerHTML = ">";
portalCell.setAttribute("id", "portal");

let portal2Row = 41;
let portal2Col = 58;
let portal2Cell = tabela.rows[portal2Row].cells[portal2Col];
portal2Cell.innerHTML = ">";
portal2Cell.setAttribute("id", "portal");

let portal3Row = 36;
let portal3Col = 51;
let portal3Cell = tabela.rows[portal3Row].cells[portal3Col];
portal3Cell.innerHTML = ">";
portal3Cell.setAttribute("id", "portal");

let portal4Row = 40;
let portal4Col = 22;
let portal4Cell = tabela.rows[portal4Row].cells[portal4Col];
portal4Cell.innerHTML = ">";
portal4Cell.setAttribute("id", "portal");

let portal5Row = 35;
let portal5Col = 15;
let portal5Cell = tabela.rows[portal5Row].cells[portal5Col];
portal5Cell.innerHTML = ">";
portal5Cell.setAttribute("id", "portal");

let portal6Row = 32;
let portal6Col = 12;
let portal6Cell = tabela.rows[portal6Row].cells[portal6Col];
portal6Cell.innerHTML = ">";
portal6Cell.setAttribute("id", "portal");

let portal7Row = 27;
let portal7Col = 5;
let portal7Cell = tabela.rows[portal7Row].cells[portal7Col];
portal7Cell.innerHTML = ">";
portal7Cell.setAttribute("id", "portal");

let portal8Row = 15;
let portal8Col = 23;
let portal8Cell = tabela.rows[portal8Row].cells[portal8Col];
portal8Cell.innerHTML = ">";
portal8Cell.setAttribute("id", "portal");

let portal9Row = 18;
let portal9Col = 27;
let portal9Cell = tabela.rows[portal9Row].cells[portal9Col];
portal9Cell.innerHTML = ">";
portal9Cell.setAttribute("id", "portal");

let portal10Row = 15;
let portal10Col = 32;
let portal10Cell = tabela.rows[portal10Row].cells[portal10Col];
portal10Cell.innerHTML = ">";
portal10Cell.setAttribute("id", "portal");

let portal11Row = 18;
let portal11Col = 36;
let portal11Cell = tabela.rows[portal11Row].cells[portal11Col];
portal11Cell.innerHTML = ">";
portal11Cell.setAttribute("id", "portal");

let portal12Row = 15;
let portal12Col = 41;
let portal12Cell = tabela.rows[portal12Row].cells[portal12Col];
portal12Cell.innerHTML = ">";
portal12Cell.setAttribute("id", "portal");

let portal13Row = 18;
let portal13Col = 45;
let portal13Cell = tabela.rows[portal13Row].cells[portal13Col];
portal13Cell.innerHTML = ">";
portal13Cell.setAttribute("id", "portal");

let portal14Row = 15;
let portal14Col = 49;
let portal14Cell = tabela.rows[portal14Row].cells[portal14Col];
portal14Cell.innerHTML = ">";
portal14Cell.setAttribute("id", "portal");
//********************************************************************** */

let lives = 3;
let pressedKey = false;
let pressed2Key = false;
let openedDoor = false;
let opened2Door = false;
let pressed3Key = false;
let opened3Door = false;
let pressed4Key = false;
let pressed5Key = false;
let pressed6Key = false;
let opened4Door = false;
let opened5Door = false;
let opened6Door = false;
let pressedFinalKey = false;
let openedFinalDoor = false;

//Movement Keys
document.addEventListener("keydown", function (event) {
    let nextRow = playerRow;
    let nextCol = playerCol;

    if (event.key === "w") {
        nextRow--;
    } else if (event.key === "s") {
        nextRow++;
    } else if (event.key === "d") {
        nextCol++;
    } else if (event.key === "a") {
        nextCol--;
    }
    

    //Collision with the wall and doors
    //Player movement
    if (nextRow >= 0 && nextRow < numRow && nextCol >= 0 && nextCol < numCol) {
        let nextCell = tabela.rows[nextRow].cells[nextCol];
        if (nextCell.innerHTML !== "*" && nextCell.innerHTML !== "D") {
            playerCell.innerHTML = "";
            playerCell.removeAttribute("id");
            playerRow = nextRow;
            playerCol = nextCol;
            playerCell = nextCell;
            playerCell.innerHTML = "&";
            playerCell.setAttribute("id", "player");
        }
    }

    //Creation of thorn
    let thornRow = [100];
    let thornCol = [100];
    for (let n = 0; n < thornRow.length; n++) {
        thornRow = [
            5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,8,8,8,8,8,8,8,8,8,8,8,8,9,10,11,12,8,8,8,9,10,11,11,
            11,11,11,11,11,12


        ];
        thornCol = [
            13,14,15,16,17,18,19,20,21,22,23,24,25,26,13,13,13,14,15,16,17,19,20,21,22,23,24,25,26,26,26,26,26,13,13,13,13,13,13,
            14,15,16,17,18,19,20,21,21,22,


        ];
        let thornCell = tabela.rows[thornRow[n]].cells[thornCol[n]];
        thornCell.innerHTML = "#";
        thornCell.setAttribute("id", "thorn");

        //Collision with the thorn
        if (playerCell === thornCell) {
            playerCell.innerHTML = "";
            playerCell.removeAttribute("id");
            playerRow = playerRowInicial;
            playerCol = playerColInicial;
            playerCell = tabela.rows[playerRowInicial].cells[playerColInicial];
            playerCell.innerHTML = "&";
            playerCell.setAttribute("id", "player");

            let thornCell = tabela.rows[thornRow[n]].cells[thornCol[n]];
            thornCell.innerHTML = "#";
            thornCell.setAttribute("id", "thorn");

            lives--;
        }
    }
    //Defeat of the player, after reaching 3x the thorn
    if (lives <= 0) {
        window.open("../GAMEOVER/gameover.html", "_self");
    }

    //Creation of the character's interaction with the key
    //Altera巽達o do sprite da porta

    //*********************************************************** */
    if (playerCell === keyCell && event.key === "i") {
        doorCell.innerHTML = "=";
        pressedKey = true;
        openedDoor = true;
    } else if (playerCell !== doorCell && openedDoor === true) {
        doorCell.innerHTML = "=";
    } else if (playerCell !== keyCell && pressedKey === false) {
        keyCell.innerHTML = "@";
    }
    //*********************************************************** */

    //*********************************************************** */
    if (playerCell === key2Cell && event.key === "i") {
        door2Cell.innerHTML = "=";
        pressed2Key = true;
        opened2Door = true;
    }
    if (playerCell !== key2Cell && pressed2Key === false) {
        key2Cell.innerHTML = "@";
    } else if (playerCell !== door2Cell && opened2Door === true) {
        door2Cell.innerHTML = "=";
    }
    //*********************************************************** */

    //*********************************************************** */
    if (playerCell === key3Cell && event.key === "i") {
        door3Cell.inner = "=";
        pressed3Key = true;
        opened3Door = true;
    }
    if (playerCell !== key3Cell && pressed3Key === false) {
        key3Cell.innerHTML = "@";
    } else if (playerCell !== door3Cell && opened3Door === true) {
        door3Cell.innerHTML = "=";
    }
    //*********************************************************** */

    //*********************************************************** */
    if (playerCell === key4Cell && event.key === "i") {
        door4Cell.inner = "=";
        pressed4Key = true;
        opened4Door = true;
    }
    if (playerCell !== key4Cell && pressed4Key === false) {
        key4Cell.innerHTML = "@";
    } else if (playerCell !== door4Cell && opened4Door === true) {
        door4Cell.innerHTML = "=";
    }
    //*********************************************************** */

        //*********************************************************** */
        if (playerCell === key5Cell && event.key === "i") {
            door5Cell.inner = "=";
            pressed5Key = true;
            opened5Door = true;
        }
        if (playerCell !== key5Cell && pressed5Key === false) {
            key5Cell.innerHTML = "@";
        } else if (playerCell !== door5Cell && opened5Door === true) {
            door5Cell.innerHTML = "=";
        }
        //*********************************************************** */

        //*********************************************************** */
        if (playerCell === key6Cell && event.key === "i") {
            door6Cell.inner = "=";
            pressed6Key = true;
            opened6Door = true;
        }
        if (playerCell !== key6Cell && pressed6Key === false) {
            key6Cell.innerHTML = "@";
        } else if (playerCell !== door6Cell && opened6Door === true) {
            door6Cell.innerHTML = "=";
        }
        //*********************************************************** */

                //*********************************************************** */
                if (playerCell === keyFinalCell && event.key === "i") {
                    doorFinalCell.inner = "=";
                    pressedFinalKey = true;
                    openedFinalDoor = true;
                }
                if (playerCell !== keyFinalCell && pressedFinalKey === false) {
                    keyFinalCell.innerHTML = "@";
                    
                } else if (playerCell !== doorFinalCell  && openedFinalDoor === true) {
                    doorFinalCell.innerHTML = "=";
                }

                if (playerCell === doorFinalCell) {
                         window.open("../../ENCERRAMENTO/fechar.html", "_self");
                     }  
                //*********************************************************** */
        

    //********************************************************** */
    if (playerCell === portalCell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal2Row;
        playerCol = portal2Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal2Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portalRow;
        playerCol = portalCol;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    //********************************************************** */
    if (playerCell === portal3Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal4Row;
        playerCol = portal4Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal4Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal3Row;
        playerCol = portal3Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    //********************************************************** */
    if (playerCell === portal5Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal6Row;
        playerCol = portal6Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal6Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal5Row;
        playerCol = portal5Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    //********************************************************** */
    if (playerCell === portal7Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal8Row;
        playerCol = portal8Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal8Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal7Row;
        playerCol = portal7Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */
    //********************************************************** */
    if (playerCell === portal9Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal10Row;
        playerCol = portal10Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal10Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal9Row;
        playerCol = portal9Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    //********************************************************** */
    if (playerCell === portal11Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal12Row;
        playerCol = portal12Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal12Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal11Row;
        playerCol = portal11Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    //********************************************************** */
    if (playerCell === portal13Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal14Row;
        playerCol = portal14Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    } else if (playerCell === portal14Cell && event.key === "i") {
        playerCell.innerHTML = "";
        playerCell.removeAttribute("id");
        playerRow = portal13Row;
        playerCol = portal13Col;
        playerCell = tabela.rows[playerRow].cells[playerCol];
        playerCell.innerHTML = "&";
        playerCell.setAttribute("id", "player");
    }
    //********************************************************** */

    if (playerCell !== portalCell) {
        portalCell.innerHTML = ">";
    }
    if (playerCell !== portal2Cell) {
        portal2Cell.innerHTML = ">";
    }
    if (playerCell !== portal3Cell) {
        portal3Cell.innerHTML = ">";
    }
    if (playerCell !== portal4Cell) {
        portal4Cell.innerHTML = ">";
    }
    if (playerCell !== portal5Cell) {
        portal5Cell.innerHTML = ">";
    }
    if (playerCell !== portal6Cell) {
        portal6Cell.innerHTML = ">";
    }
    if (playerCell !== portal7Cell) {
        portal7Cell.innerHTML = ">";
    }
    if (playerCell !== portal8Cell) {
        portal8Cell.innerHTML = ">";
    }
    if (playerCell !== portal9Cell) {
        portal9Cell.innerHTML = ">";
    }
    if (playerCell !== portal10Cell) {
        portal10Cell.innerHTML = ">";
    }
    if (playerCell !== portal11Cell) {
        portal11Cell.innerHTML = ">";
    }
    if (playerCell !== portal12Cell) {
        portal12Cell.innerHTML = ">";
    }
    if (playerCell !== portal13Cell) {
        portal13Cell.innerHTML = ">";
    }
    if (playerCell !== portal14Cell) {
        portal14Cell.innerHTML = ">";
    }

   
    if (playerCell !== buttonCell) {
        buttonCell.innerHTML = "O";
    }
    if(playerCell === buttonCell && event.key === "i"){
        lives=0
        if(lives===0){
            window.open("../GAMEOVER/gameover.html", "_self")
        }
    }

    if(playerCell === button2Cell && event.key === "i"){
        key6Cell.style.display = "block"
    }


//engimas******************************************************************************
if(playerCell===button6Cell && event.key === "i"){
var perguntas = [
    {
      pergunta: "O que sobe e desce, mas nunca se move?",
      resposta: "escada"
    },
    {
      pergunta: "Qual 辿 o animal mais r叩pido do mundo?",
      resposta: "guepardo"
    }
  ]; 
  function fazerPerguntas() {
    for (var i = 0; i < perguntas.length; i++) {
      var respostaUsuario = prompt(perguntas[i].pergunta);
      if (respostaUsuario.toLowerCase() !== perguntas[i].resposta.toLowerCase()) {
        alert("Resposta incorreta! Tente novamente.");
        i--; 
      }
    }
    alert("Parab辿ns! Voc棚 acertou todas as perguntas!");
  }
  fazerPerguntas(); 
    }
//***************************************************************************************** */
if(playerCell===button5Cell && event.key === "i"){
    var perguntas = [
        {
          pergunta: "Quanto mais voc棚 tira, mais ele cresce. O que 辿",
          resposta: "buraco"
        },
        {
          pergunta: "Eu sou um instrumento atrav辿s do qual os sons s達o feitos. No entanto, voc棚 n達o pode me tocar. O que eu sou?",
          resposta: "Voz"
        }
      ]; 
      function fazerPerguntas() {
        for (var i = 0; i < perguntas.length; i++) {
          var respostaUsuario = prompt(perguntas[i].pergunta);
          if (respostaUsuario.toLowerCase() !== perguntas[i].resposta.toLowerCase()) {
            alert("Resposta incorreta! Tente novamente.");
            i--; 
          }
        }
        alert("Parab辿ns! Voc棚 acertou todas as perguntas!");
      }
      fazerPerguntas(); 
}
//******************************************************************************************* */
if(playerCell===button4Cell && event.key === "i"){
    var perguntas = [
        {
          pergunta: "Se voc棚 me tem, quer compartilhar. Mas se me compartilhar, eu deixo de existir. O que eu sou?",
          resposta: "segredo"
        },
        {
          pergunta: "Eu posso ser um deus, um planeta, e medir o calor. O que eu sou?",
          resposta: "merc炭rio"
        },
        {
            pergunta: "Eu te ajudo da cabe巽a aos p辿s. Mas quanto mais eu trabalho, menor eu pare巽o. O que eu sou?",
            resposta: "sabonete"
          },
          {
            pergunta: "O que o filho do matem叩tico fala quando quer ir ao banheiro? ",
            resposta: "pipi"
          }
      ]; 
      function fazerPerguntas() {
        for (var i = 0; i < perguntas.length; i++) {
          var respostaUsuario = prompt(perguntas[i].pergunta);
          if (respostaUsuario.toLowerCase() !== perguntas[i].resposta.toLowerCase()) {
            alert("Resposta incorreta! Tente novamente.");
            i--; 
          }
        }
        alert("Parab辿ns! Voc棚 acertou todas as perguntas!");
      }
      fazerPerguntas(); 
}
//**************************************************************************************************** */
if(playerCell===button3Cell && event.key === "i"){
    var perguntas = [
        {
          pergunta: "Sou um objeto que pode ser usado para armazenar informa巽探es digitais. Sou plano, fino e geralmente feito de vidro ou metal.",
          resposta: "disco r鱈gido"
        },
        {
          pergunta: "A av坦 dividiu 20 balas entre as duas netas. Que horas s達o? a) 10:02 b) 1:50 c) 20:02 d) 8:02 e) 12:50",
          resposta: "b"
        },
        {
            pergunta: "O que quanto mais curto for, mais r叩pido 辿?            ",
            resposta: "tempo"
          },
          {
            pergunta: "Imagine que voc棚 est叩 em uma sala escura ao lado de Sherlock. Nela h叩 um f坦sforo, uma l但mpada de querosene, uma vela e uma lareira. O que voc棚 acenderia primeiro?",
            resposta: "f坦sforo"
          }
      ]; 
      function fazerPerguntas() {
        for (var i = 0; i < perguntas.length; i++) {
          var respostaUsuario = prompt(perguntas[i].pergunta);
          if (respostaUsuario.toLowerCase() !== perguntas[i].resposta.toLowerCase()) {
            alert("Resposta incorreta! Tente novamente.");
            i--; 
          }
        }
        alert("Parab辿ns! Voc棚 acertou todas as perguntas!");
      }
      fazerPerguntas(); 
}
//************************************************************************************************** */
    spanLives.innerHTML = "Lives: " + lives;
});

